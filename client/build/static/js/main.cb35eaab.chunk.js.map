{"version":3,"sources":["helpers/fetch.js","features/authSlice.js","components/Auth.js","features/todoSlice.js","components/Todo.js","App.js","app/store.js","index.js"],"names":["fetch2","api","body","a","fetch","method","headers","localStorage","getItem","JSON","stringify","res","json","fetch3","type","userSignup","createAsyncThunk","result","userSignin","authSlice","createSlice","name","initialState","token","loading","error","reducers","addToken","state","action","logOut","removeItem","extraReducers","fulfilled","payload","message","pending","setItem","actions","Auth","useState","email","password","inputs","setInputs","auth","setAuth","useSelector","user","dispatch","useDispatch","handleChnage","event","target","value","prevData","className","onChange","placeholder","onClick","e","preventDefault","createTodo","fetchTodo","deleteTodo","id","todoSlice","push","filter","item","_id","Todo","myTodo","setTodo","todos","useEffect","todo","class","map","App","dispath","store","configureStore","reducer","authReducer","todoReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cb35eaab.chunk.js","sourcesContent":["\r\nexport const fetch2 = async (api, body) => {\r\n    const res = await fetch(api, {\r\n        method: \"post\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": localStorage.getItem('token')\r\n\r\n        },\r\n        body: JSON.stringify(body)\r\n    })\r\n    return await res.json()\r\n}\r\n\r\nexport const fetch3 = async (api,type)=>{\r\n    const res =  await fetch(api,{\r\n         method:type,\r\n         headers:{\r\n             \"Content-Type\":\"application/json\",\r\n             \"Authorization\":localStorage.getItem('token')\r\n         }\r\n     })\r\n     return await res.json()\r\n }\r\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { fetch2 } from \"../helpers/fetch\";\r\n\r\nconst initialState = {\r\n    token: \"\",\r\n    loading: false,\r\n    error: \"\"\r\n}\r\n\r\n\r\nexport const userSignup = createAsyncThunk(\r\n    'usersignup',\r\n    async (body) => {\r\n        const result = await fetch2('/signup', body)\r\n        return result\r\n    }\r\n)\r\n\r\nexport const userSignin = createAsyncThunk(\r\n    'usersignin',\r\n    async (body) => {\r\n        const result = await fetch2('/signin', body)\r\n        return result\r\n    }\r\n)\r\n\r\nconst authSlice = createSlice({\r\n    name: \"user\",\r\n    initialState,\r\n    reducers: {\r\n        addToken : (state , action)=>{\r\n           state.token = localStorage.getItem('token')\r\n        },\r\n\r\n        logOut : (state , action)=>{\r\n            state.token = null \r\n            localStorage.removeItem('token')\r\n\r\n        }\r\n    },\r\n    extraReducers : {\r\n        [userSignup.fulfilled] : (state , {payload : {error , message}})=>{\r\n            state.loading = false\r\n            if(error)\r\n            {\r\n                state.error = error\r\n            }else{\r\n                state.error = message\r\n            }\r\n        },\r\n        [userSignup.pending] : (state , action)=>{\r\n            state.loading = true\r\n        },\r\n        [userSignin.pending] : (state , action)=>{\r\n            state.loading = true\r\n        },\r\n\r\n        [userSignin.fulfilled] : (state , {payload : {error , token}})=>{\r\n            state.loading = false\r\n            if(error)\r\n            {\r\n                state.error = error\r\n            }else{\r\n                state.token = token\r\n                localStorage.setItem('token',token)\r\n            }\r\n        },\r\n\r\n    }\r\n\r\n})\r\n\r\nexport const {addToken , logOut} = authSlice.actions;\r\n\r\nexport default authSlice.reducer;","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { userSignup , userSignin } from \"../features/authSlice\";\r\n\r\nconst Auth = () => {\r\n\r\n    const [inputs, setInputs] = useState({\r\n        email: \"\",\r\n        password: \"\"\r\n    })\r\n    const { email, password } = inputs;\r\n    const [auth, setAuth] = useState(\"Signin\")\r\n\r\n    const { loading, error } = useSelector(state => state.user)\r\n    const dispatch = useDispatch();\r\n\r\n    const handleChnage = (event) => {\r\n        const { name, value } = event.target;\r\n        setInputs(prevData => {\r\n            return {\r\n                ...prevData,\r\n                [name]: value\r\n            }\r\n        })\r\n    }\r\n\r\n    const authentication = (e) => {\r\n        e.preventDefault();\r\n        if (auth === \"Signin\") {\r\n            dispatch(userSignin({\r\n                email,\r\n                password\r\n            }))\r\n        } else {\r\n            dispatch(userSignup({\r\n                email,\r\n                password\r\n            }))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div >\r\n            {loading &&\r\n                <div className=\"progress\">\r\n                    <div className=\"indeterminate\"></div>\r\n                </div>}\r\n            <h1>Please {auth}</h1>\r\n            {\r\n                error && <h4>{error}</h4>\r\n            }\r\n            <input type=\"text\" onChange={handleChnage} name=\"email\" value={inputs.email} placeholder=\"Please enter username\" />\r\n            <input type=\"password\" onChange={handleChnage} name=\"password\" value={inputs.password} placeholder=\"Please enter password\" />\r\n            {\r\n                auth === \"Signin\" ? <h6 onClick={() => setAuth('Signup')}>Don't have an account</h6> :\r\n                    <h6 onClick={() => setAuth('Signin')}>Already have an account</h6>\r\n            }\r\n            <button className='btn #f50057 pink accent-3' onClick={authentication}>{auth}</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Auth;","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { fetch2 , fetch3 } from \"../helpers/fetch\";\r\n\r\nconst initialState = []\r\n\r\n\r\n\r\nexport const createTodo = createAsyncThunk(\r\n    'createtodo',\r\n    async (body) => {\r\n        const result = await fetch2('/createtodo', body)\r\n        return result\r\n    }\r\n)\r\n\r\nexport const fetchTodo = createAsyncThunk(\r\n    'fetchtodo',\r\n    async () => {\r\n        const result = await fetch3('/gettodos', \"get\")\r\n        return result\r\n    }\r\n)\r\n\r\nexport const deleteTodo = createAsyncThunk(\r\n    'deletetodo',\r\n    async (id) => {\r\n        const result = await fetch3(`/remove/${id}`, \"delete\")\r\n        return result\r\n    }\r\n)\r\n\r\nconst todoSlice = createSlice({\r\n    name: \"todo\",\r\n    initialState,\r\n    reducers: {\r\n      \r\n    },\r\n    extraReducers : {\r\n       \r\n        [createTodo.fulfilled] : (state , {payload : {message}})=>{\r\n                if(message) \r\n                {\r\n                    state.push(message)\r\n                }\r\n        },\r\n        [fetchTodo.fulfilled] : (state , {payload : {message}})=>{\r\n            \r\n                return message\r\n        },\r\n        [deleteTodo.fulfilled] : (state , {payload : {message}})=>{\r\n            \r\n            const removedTodo = state.filter(item =>{\r\n                return  item._id !== message._id\r\n            })\r\n\r\n            return removedTodo\r\n    },\r\n      \r\n    }\r\n\r\n})\r\n\r\n\r\n\r\nexport default todoSlice.reducer;","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createTodo , fetchTodo , deleteTodo } from \"../features/todoSlice\";\r\nimport { logOut } from \"../features/authSlice\";\r\n\r\nconst Todo = () => {\r\n    const [myTodo , setTodo] = useState('')\r\n    const dispatch = useDispatch();\r\n    const todos = useSelector(state=>state.todos)\r\n    const handleClick = ()=>{\r\n        dispatch(createTodo({todo : myTodo}))\r\n        setTodo('')\r\n    }\r\n    const handleDelete =(id)=>{\r\n        dispatch(deleteTodo(id))\r\n    }\r\n    useEffect(()=>{\r\n        dispatch(fetchTodo())\r\n    },[])\r\n    return ( \r\n        <div >\r\n            <input type=\"text\" placeholder=\"Add todo...\" value={myTodo} onChange={(e)=>setTodo(e.target.value)} />\r\n            <button className='btn #f50057 pink accent-3' onClick={()=>handleClick()}>Add</button>\r\n            <ul class=\"collection with-header\">\r\n            {todos.map(item =>{\r\n                return  <li onClick={()=>handleDelete(item._id)} className=\"collection-item\" key={item._id}>{item.todo}</li>\r\n            })}\r\n                   \r\n      </ul>\r\n      <button className='btn #f50057 pink accent-3' onClick={()=> dispatch(logOut())}>LogOut</button>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Todo;","import React from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './App.css';\nimport Auth from './components/Auth';\nimport Todo from './components/Todo';\nimport { addToken } from './features/authSlice';\n\n\nfunction App() {\n\n  const { token } = useSelector(state => state.user)\n  const dispath = useDispatch()\n  useEffect(()=>{\n    dispath(addToken())\n  },[])\n  \n  return (\n    <div className=\"App\">\n      {token ? <Todo /> : <Auth />}\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\nimport authReducer from '../features/authSlice';\nimport todoReducer from '../features/todoSlice';\n\n\nexport const store = configureStore({\n  reducer: {\n      user : authReducer,\n      todos : todoReducer,\n  },\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}